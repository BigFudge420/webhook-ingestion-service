generator client {
  provider = "prisma-client-js"
}

// Prisma 6: URL provided via prisma.config.ts for migrations
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model WebhookEvent {
  id                Int      @id @default(autoincrement())
  orderId           String
  status            String
  providerTimeStamp DateTime
  providerEventId   String   @unique
  createdAt         DateTime @default(now())

  @@index([orderId, createdAt(sort: Desc)])
}
